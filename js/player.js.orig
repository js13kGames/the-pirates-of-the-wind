function player () {

}
player.prototype = Object.create(item.prototype);
player.prototype.type = 'player';
player.prototype.init = function () {
    this.setDimension(game.cellWidth, game.cellHeight, false);
    this.fillColor = 'white';
    this.lineColor = 'red';
    this.inclination = 0;
    this.context = game.canvas.playerContext;
    this.canvas = game.canvas.player;
    this.setLocation(0, 0);

    if(game.level.direction == 'east') {
        window.addEventListener("keydown", function(e) {
            var keyPressed = e.keyCode || e.which;
            if(keyPressed == 38){ // up
                game.player.inclination =  -15;
                game.player.setLocation(undefined, game.player.posY -= 0.05);
            }
            else if (keyPressed == 40){ // down
                game.player.inclination =  15;
                game.player.setLocation(undefined, game.player.posY += 0.05);
            }
        });
        window.addEventListener("keyup", function(e) {
            var keyPressed = e.keyCode || e.which;
            if(keyPressed == 38 || keyPressed == 40){ // up or down
                game.player.inclination =  0;
            }
        });
    }
}
player.prototype.animate = function(/*pStartTime*/) {
    ////var time = (new Date()).getTime() - pStartTime;
    if (this.animable) {
        var newX;
        var speed = game.level.velocity;

<<<<<<< HEAD
    if(game.level.direction == 'east') {
        var newX = (this.posX + speed / 15);
        if(newX < this.canvas.width - this.width + (game.cellWidth/2) ) {
            this.posX = newX;
        } else {
            this.posX = 0;
        }
    }
    else if(game.level.direction == 'west') {
        var newX = (this.posX - speed / 15);
        if(newX > (0-(game.cellWidth/2)) ) {
            this.posX = newX;
        } else {
            this.posX = this.canvas.width - this.width
=======
        if(game.level.direction == 'east') {
            newX = (this.posX + speed / 100);
            if(newX < this.canvas.width - this.width) {
                //this.posX = newX;
            }
        }
        else if(game.level.direction == 'west') {
            newX = (this.posX - speed / 100);
            if(newX > 0) {
                //this.posX = newX;
            }
>>>>>>> master
        }
        this.setLocation(newX, undefined);
        this.draw();
    }
<<<<<<< HEAD

    this.draw();
=======
>>>>>>> master
    requestAnimFrame(function() {
        game.player.animate(/*pStartTime*/);
    });
}
player.prototype.setLocation = function(posX, posY) {
    item.prototype.setLocation.call(this, posX, posY);

    // calculate column
    var wholeNumberX = (game.player.posX + game.player.width) / game.cellWidth;
    var number = game.getNumber(wholeNumberX);
    var decimal = game.getDecimal(wholeNumberX);
    if(decimal > 0.0) {
        number++;
    }
    this.col = number;

    // calculate row
    var wholeNumberY = (game.player.posY + game.player.height) / game.cellHeight;
    var number = game.getNumber(wholeNumberY);
    var decimal = game.getDecimal(wholeNumberY);
    if(decimal > 0.0) {
        number++;
    }
    this.row = number;
}


